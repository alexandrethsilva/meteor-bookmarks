<template name="articleItem">
  {{#unless bookmarked}}
    <article class="col-sm-12">
      <div class="row sticky-top padding-top background-light--faded">
        <div class="col-sm-9 col-md-10 padding-small">
          <h3 class="no-margin">{{title}}</h3>
          <p class="no-margin text-muted"><small>by {{author}} on {{formatDate timestamp "short"}}</small></p>
        </div>
        <div class="col-sm-3 col-md-2 margin-top--small padding-right">
          <button id="bookmarkAdd" class="btn btn-info btn-block btn-sm btn-default">Add to Bookmarks</button>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12 col-md-10 col-md-push-1 col-lg-8 col-lg-push-2 padding-small">
          <div class="panel panel-default">
            <div class="panel-body">
              <p>{{{safeString content}}}</p>
            </div>
          </div>
        </div>
      </div>
    </article>
  {{else}}
    <article class="col-sm-9">
      <div class="row sticky-top padding-top background-light--faded">
        <div class="col-sm-12 padding-small">
          <h3 class="no-margin">{{title}}</h3>
          <p class="no-margin text-muted"><small>by {{author}} on {{formatDate timestamp "short"}}</small></p>
        </div>
      </div>
      <div class="row">
        <div class="margin-top margin-bottom--small col-sm-12 col-md-10 col-md-push-1">
          <div class="panel panel-default">
            <div class="panel-body">
              <p>{{{safeString content}}}</p>
            </div>
          </div>
        </div>
      </div>
    </article>
    <div class="col-sm-3 content-column padding-right padding-bottom--small sticky-top background-soft--faded">
      <div class="row padding-top">
        <div class="col-sm-12">
          <button id="bookmarkRemove" class="margin-top--small btn btn-sm btn-default btn-block">Remove from Bookmarks</button>
        </div>
        <div class="col-sm-12">
          <div class="page-header margin-top margin-bottom--small">
            <h5 class="no-margin--bottom">Notes For This Bookmark</h5>
          </div>

        </div>
        <div class="col-sm-12">
          <ul class="list-unstyled">
            {{#unless isCollectionEmpty notes}}
              {{#each notes}}
                <li class="list-item relative">
                  <h6>{{title}}</h6>
                  <div id="noteDelete" class="absolute top right btn btn-default btn-sm circle pull-right" style="padding:0 6px 2px !important;margin-top: -4px;">&times;</div>
                  <p>{{body}}</p>
                </li>
                <hr>
              {{/each}}
              <li id="notesCallout" class="list-item text-muted text-center">
                <small>
                  Would you like to add more notes to this article?
                </small>
                <button id="noteCreate" class="margin-top btn btn-default btn-info btn-block btn-sm btn-default">Create a new note</button>
              </li>
              <li id="noteForm" class="list-item text-muted text-center hidden">
                <form role="form" class="no-margin--top">
                  <div class="text-left"><h5>New note</h5></div>
                  <div class="form-group text-left">
                    <input type="text" required class="form-control input-sm" id="noteTitle" placeholder="Your note title">
                  </div>
                  <div class="form-group text-left">
                    <textarea rows="4" required class="form-control input-sm" id="noteSummary" placeholder="Your note summary"></textarea>
                  </div>
                  <button id="noteAdd" class="margin-top btn btn-info btn-block btn-sm btn-default">Add this note</button>
                  <button id="noteCancel" class="btn btn-block btn-sm btn-default">Not now, go back</button>
                </form>
              </li>
            {{else}}
              <li id="notesCallout" class="list-item text-muted text-center">
                <small>
                  This article has no notes added to it.<br>
                  Would you like to add some?
                </small>
                <button id="noteCreate" class="margin-top btn btn-info btn-block btn-sm btn-default">Create a new note</button>
              </li>
              <li id="noteForm" class="list-item text-muted text-center hidden">
                <form role="form" class="no-margin--top">
                  <div class="text-left"><h5>New note</h5></div>
                  <div class="form-group text-left">
                    <input type="text" required class="form-control input-sm" id="noteTitle" placeholder="Your note title">
                  </div>
                  <div class="form-group text-left">
                    <textarea rows="4" required class="form-control input-sm" id="noteSummary" placeholder="Your note summary"></textarea>
                  </div>
                  <button id="noteAdd" class="margin-top btn btn-info btn-block btn-sm btn-default">Add this note</button>
                  <button id="noteCancel" class="btn btn-block btn-sm btn-default">Not now, go back</button>
                </form>
              </li>
            {{/unless}}
          </ul>
        </div>
      </div>
    </div>
  {{/unless}}
</template>